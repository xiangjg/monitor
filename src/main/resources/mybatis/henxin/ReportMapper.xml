<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ReportMapper">
	<!-- 新增-->
	<insert id="save" parameterType="pd">
		insert into HX_REPORT(
		TYPE,
		ADDRESS,
		BANK,
		CLIENT,
		CREATE_DATE,
		USER_ID,
		REPORT_ID
		) values (
		#{TYPE},
		#{ADDRESS},
		#{BANK},
		#{CLIENT},
		#{CREATE_DATE},
		#{USER_ID},
		#{REPORT_ID}
		)
	</insert>


	<!-- 删除-->
	<delete id="delete" parameterType="pd">
		delete from HX_REPORT
		where
		REPORT_ID = #{REPORT_ID}
	</delete>


	<!-- 修改 -->
	<update id="edit" parameterType="pd">
		update  HX_REPORT
		set
		TYPE = #{TYPE},
		ADDRESS = #{ADDRESS},
		BANK = #{BANK},
		CLIENT = #{CLIENT},
		REPORT_ID = REPORT_ID
		where
		REPORT_ID = #{REPORT_ID}
	</update>


	<!-- 通过ID获取数据 -->
	<select id="findById" parameterType="pd" resultType="pd">
		select
		TYPE,
		ADDRESS,
		BANK,
		CLIENT,
		CREATE_DATE,
		USER_ID,
		REPORT_ID
		from
		HX_REPORT
		where
		REPORT_ID = #{REPORT_ID}
	</select>


	<!-- 列表 -->
	<select id="datalistPage" parameterType="page" resultType="pd">
		select
		a.TYPE,
		a.ADDRESS,
		a.BANK,
		a.CLIENT,
		a.CREATE_DATE,
		a.USER_ID,
		a.REPORT_ID
		from
		HX_REPORT a
		where 1=1
		<if test="pd.keyword!=null">
			and (a.ADDRESS LIKE '%${pd.keyword}%' or a.CLIENT LIKE '%${pd.keyword}%' or a.BANK LIKE '%${pd.keyword}%')
		</if>
		<if test="pd.TYPE!=null and pd.TYPE!=''">
			and a.TYPE = #{pd.TYPE}
		</if>
	</select>

	<!-- 列表(全部) -->
	<select id="listAll" parameterType="pd" resultType="pd">
		select
		a.TYPE,
		a.ADDRESS,
		a.BANK,
		a.CLIENT,
		a.CREATE_DATE,
		a.USER_ID,
		a.REPORT_ID
		from
		HX_REPORT a
	</select>

	<!-- 批量删除 -->
	<delete id="deleteAll" parameterType="String">
		delete from HX_REPORT
		where
		REPORT_ID in
		<foreach item="item" index="index" collection="array" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>
</mapper>